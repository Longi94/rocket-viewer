<div class="canvas-container" #canvasContainer>
  <canvas #canvas></canvas>
</div>

<div class="full-overlay" [style.display]="isLoading ? null : 'none'">
  <span>Loading {{progress.current - progress.start}}/{{progress.total - progress.start}}</span>
  <mat-progress-bar mode="determinate" [value]="progress.percent" color="primary"></mat-progress-bar>
</div>

<div class="debug-overlay" *ngIf="isDebug">
  <span>maxtime: {{sceneManager.playbackInfo.maxTime}}</span>
  <span>mintime: {{sceneManager.playbackInfo.minTime}}</span>
  <span>animtime: {{sceneManager.currentAnimationTime}}</span>
  <span>frame: {{sceneManager.currentFrame}}</span>
  <span>time: {{sceneManager.currentTime}}</span>
  <span>ballframe: {{sceneManager.ballFrame}}</span>
  <span *ngIf="sceneManager.rs.models.ball">
    ballpos:
    {{sceneManager.rs.models.ball.position.x | number}}
    {{sceneManager.rs.models.ball.position.y | number}}
    {{sceneManager.rs.models.ball.position.z | number}}
  </span>
  <span *ngIf="sceneManager.rs.models.ball">ballvel: {{sceneManager.getBallSpeed() | number}}</span>
  <div class="player-debug-overlay" *ngFor="let player of sceneManager.playbackInfo.players">
    <span>name: {{player.name}}</span>
    <span>frame: {{sceneManager.playerFrames[player.id]}}</span>
    <span *ngIf="sceneManager.rs.models.players[player.id]">position:
      {{sceneManager.rs.models.players[player.id].scene.position.x | number}}
      {{sceneManager.rs.models.players[player.id].scene.position.y | number}}
      {{sceneManager.rs.models.players[player.id].scene.position.z | number}}
    </span>
    <span *ngIf="sceneManager.rs.models.players[player.id]">velocity: {{sceneManager.getPlayerSpeed(player.id) | number}}</span>
  </div>
</div>

<div class="stats-container" #statsDiv></div>
